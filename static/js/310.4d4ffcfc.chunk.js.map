{"version":3,"file":"static/js/310.4d4ffcfc.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","utils/fetchs.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const MovieList = styled.ul`\n  list-style: none;\n\n`;\n\nexport const MovieLink = styled(Link)`\n  text-decoration: none;\n  text-decoration: none;\n  color: darkred;\n  font-size: 20px;\n  font-family: cursive;\n\n  &:hover {\n    color: tomato\n  }\n`;\n\nexport const StyledInput = styled.input`\n  height: 14px;\n  margin-right: 10px;\n  border-radius: 8px;\n  padding: 8px;\n \n`;\n\nexport const StyledForm = styled.form`\n  margin-left: 30px;\n  margin-top: 20px;\n`;\n\nexport const StyledBtn = styled.button`\n  height: 32px;\n  background: darkblue;\n  color: beige;\n  font-style: italic;\n  font-weight: 700;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  padding: 8px;\n\n  &:hover {\n    background: yellow;\n    color: black\n  }\n`;","import { useSearchParams, useLocation } from 'react-router-dom';\nimport Notiflix from 'notiflix';\nimport { useEffect, useState } from 'react';\nimport { getMovies } from 'utils/fetchs';\nimport Loader from 'components/Loader/Loader';\nimport {\n  MovieList,\n  MovieLink,\n  StyledInput,\n  StyledForm,\n  StyledBtn,\n} from './Movies.styled';\n\nconst Movies = () => {\n  const [movie, setMovie] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const abortCtrl = new AbortController();\n\n    if (query === '') return;\n    async function searchMovies() {\n      try {\n        setLoading(true);\n        const movies = await getMovies(query);\n        if (movies) {\n          setMovie(movies.data.results);\n        }\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    searchMovies();\n\n    return () => abortCtrl.abort();\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    if (form.elements.query.value === '') {\n      Notiflix.Notify.warning('Ooops! You need to enter something');\n      return;\n    }\n    setSearchParams({ query: form.elements.query.value });\n    form.reset();\n  };\n  // console.log(movie);\n\n  return (\n    <>\n      <StyledForm onSubmit={handleSubmit}>\n        <StyledInput type=\"text\" placeholder=\"Enter movie name\" name=\"query\" />\n        <StyledBtn type=\"submit\">Search</StyledBtn>\n      </StyledForm>\n\n      {error &&\n        Notiflix.Notify.failure(\n          'Sorry, cannot find any movie. Please, try again'\n        )}\n      {loading && <Loader />}\n\n      <MovieList>\n        {movie.map(({ title, id }) => (\n          <li key={id}>\n            <MovieLink to={`${id}`} state={{ from: location }}>\n              {title}\n            </MovieLink>\n          </li>\n        ))}\n      </MovieList>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '8797bf46728068285205c5125a7a7653';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport async function getTrending(signal) {\n  const resp = await axios.get(\n    `${BASE_URL}trending/all/day?language=en-US'&api_key=${API_KEY}`,\n    signal\n  );\n  return resp;\n}\n\nexport async function getDetails(movieId, signal) {\n  const resp = await axios.get(\n    `${BASE_URL}/movie/${movieId}?language=en-US?&api_key=${API_KEY}`,\n    signal\n  );\n\n  return resp;\n}\n\nexport async function getCast(movieId, signal) {\n  const resp = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits?language=en-US&api_key=${API_KEY}`,\n    signal\n  );\n\n  return resp;\n}\n\nexport async function getReview(movieId, signal) {\n  const resp = await axios.get(\n    `${BASE_URL}movie/${movieId}/reviews?language=en-US&api_key=${API_KEY}`,\n    signal\n  );\n\n  return resp;\n}\n\nexport async function getMovies(query, signal) {\n  const resp = await axios.get(\n    `${BASE_URL}/search/movie?query=${query}?&api_key=${API_KEY}`,\n    signal\n  );\n\n  return resp;\n}\n"],"names":["MovieList","styled","MovieLink","Link","StyledInput","StyledForm","StyledBtn","useState","movie","setMovie","error","setError","loading","setLoading","location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","useEffect","abortCtrl","AbortController","searchMovies","abort","getMovies","movies","data","results","message","onSubmit","e","preventDefault","form","currentTarget","elements","value","reset","Notiflix","type","placeholder","name","Loader","map","title","id","to","state","from","API_KEY","BASE_URL","getTrending","signal","axios","resp","getDetails","movieId","getCast","getReview"],"sourceRoot":""}